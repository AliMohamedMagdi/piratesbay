<main role="main">

<ngx-spinner
  bdColor="rgba(51,51,51,0.8)"
  size="medium"
  color="#fff"
  type="ball-scale-multiple">
  <p class="text-center" style="font-size: 20px; color: white">Loading Recent Torrents...</p>
</ngx-spinner>

    <h1 class="jumbotron-heading text-center recent header-style">
      Recent Torrents
    </h1>

    <!-- alert to show if copy magnet button is clicked -->
    <!-- <ngb-alert *ngIf="successMessage" type="success" (close)="successMessage = null">{{ successMessage }}</ngb-alert> -->
  
    <div class="album py-5 bg-light">
      <div class="container">
  
        <div>
          
        <div *ngIf="torrents; else noData">
            <div *ngFor="let recentTorrents of torrents">

                <div class="col-md-4 pull-left">
                    <div class="card mb-4 shadow-sm" style="max-height:390px;">
                      <svg class="bd-placeholder-img card-img-top" width="100%" height="90" xmlns="http://www.w3.org/2000/svg"
                        preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Torrent">
                        <rect width="100%" height="100%" fill="#55595c" />
                      </svg>
      
                      <div class="card-body">
      
                        <p> <i class="fas fa-skull-crossbones" style="color: brown;"></i> <b> Title: </b>
                          {{recentTorrents.title}}</p>
      
                        <p> <i class="fas fa-folder-open" style="color: #845ef7;"></i> <b> Category:</b>
                          {{recentTorrents.category}}</p>
      
                        <p> <i class="fas fa-balance-scale text-info"></i> <b> Size:</b> {{recentTorrents.size | convert }}</p>
                        
                        <p> <i class="fas fa-arrow-up text-success"></i> <b> Seeders:</b> {{recentTorrents.seeds}}</p>
                        
                        <p> <i class="fas fa-arrow-down text-danger"></i> <b> Leechers:</b> {{recentTorrents.leeches}}</p>
                        
                        <p> <i class="fas fa-user text-primary"></i> <b> Uploader:</b> {{recentTorrents.uploader}}</p>
      
                        <div class="d-flex justify-content-between align-items-center">
                          <div>
      
                          <a href="{{recentTorrents.magnet | stripunsafe}}" class="btn btn-sm btn-outline-primary"  title="Copy Torrent Magnet Link"
                            ngxClipboard [cbContent]="recentTorrents.magnet" 
                            (click)="changeSuccessMessage()">
                              <i class="fas fa-magnet fa-rotate-180"></i>
                              Copy Magnet Link
                          </a>
                          </div>
      
                          <small class="text-muted">Uploaded: {{recentTorrents.time | convertDateTime}}</small>
      
                        </div>
      
                      </div>
      
                    </div>
                  </div>

        </div>
      </div>

      <ng-template #noData>
        <h1>No Data to display</h1>
        <p>The API might be broken, please check with the web developer <a href="https://github.com/chunkingz/thepiratebay/issues" target="_blank" rel="noopener noreferrer">here</a> </p>
      </ng-template>
      
      </div>
      </div>
    </div>
  
  </main>
  
  <!-- <app-footer></app-footer> -->
